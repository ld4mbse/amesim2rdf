package test.rdfreader;



import java.io.InputStream;

import com.hp.hpl.jena.query.Dataset;
import com.hp.hpl.jena.query.Query;
import com.hp.hpl.jena.query.QueryExecution;
import com.hp.hpl.jena.query.QueryExecutionFactory;
import com.hp.hpl.jena.query.QueryFactory;
import com.hp.hpl.jena.query.ResultSet;
import com.hp.hpl.jena.query.ResultSetFormatter;
import com.hp.hpl.jena.rdf.model.Model;
import com.hp.hpl.jena.rdf.model.ModelFactory;
import com.hp.hpl.jena.tdb.TDBFactory;
import com.hp.hpl.jena.util.FileManager;





public class RDFTDBReader {

	public static void main(String[] args) {
		
		
		
		// load model from triplestore
				
				Dataset dataset = TDBFactory.createDataset("TDB");
				Model model = dataset.getDefaultModel();
				
				
				
				// Create a new query
				String queryString = 			
					"SELECT ?subject ?predicate ?object " +
					"WHERE {" +
					"    ?subject  ?predicate ?object . " +			
					"      }";
				Query query = QueryFactory.create(queryString);

				// Execute the query and obtain results
				QueryExecution qe = QueryExecutionFactory.create(query, model);
				ResultSet results = qe.execSelect();

				// Output query results	
				ResultSetFormatter.out(System.out, results, query);

				// Important - free up resources used running the query
				qe.close();	

	}

}
